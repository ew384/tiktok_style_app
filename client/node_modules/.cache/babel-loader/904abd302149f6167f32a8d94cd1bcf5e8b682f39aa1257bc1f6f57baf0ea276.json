{"ast":null,"code":"var _jsxFileName = \"/oper/work/endian/tiktok_style_app/client/src/components/VideoPlayer/VideoFeed.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef, useCallback } from 'react';\nimport axios from 'axios';\nimport './VideoPlayer.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst VideoFeed = () => {\n  _s();\n  // 状态变量\n  const [currentIndex, setCurrentIndex] = useState(0);\n  const [isScrolling, setIsScrolling] = useState(false);\n  const [videos, setVideos] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  // Refs\n  const videoContainerRef = useRef(null);\n  const activeVideoRef = useRef(null);\n  const touchStartY = useRef(0);\n  const touchEndY = useRef(0);\n\n  // 模拟视频数据 - 在API连接前使用\n  const sampleVideoData = [{\n    id: 1,\n    url: \"https://cdn.plyr.io/static/demo/View_From_A_Blue_Moon_Trailer-576p.mp4\",\n    poster: \"https://cdn.plyr.io/static/demo/View_From_A_Blue_Moon_Trailer-HD.jpg\",\n    username: \"@创作者小明\",\n    description: \"这是一个超级有趣的视频 #热门 #推荐\",\n    likes: \"1.2万\",\n    comments: \"1345\",\n    shares: \"2.3万\"\n  }, {\n    id: 2,\n    url: \"https://cdn.plyr.io/static/demo/View_From_A_Blue_Moon_Trailer-576p.mp4\",\n    poster: \"https://cdn.plyr.io/static/demo/View_From_A_Blue_Moon_Trailer-HD.jpg\",\n    username: \"@旅行达人\",\n    description: \"美丽的风景，你想去吗？ #旅行 #风景\",\n    likes: \"8.7万\",\n    comments: \"5678\",\n    shares: \"1.6万\"\n  }, {\n    id: 3,\n    url: \"https://cdn.plyr.io/static/demo/View_From_A_Blue_Moon_Trailer-576p.mp4\",\n    poster: \"https://cdn.plyr.io/static/demo/View_From_A_Blue_Moon_Trailer-HD.jpg\",\n    username: \"@美食博主\",\n    description: \"超简单的美食教程，三分钟学会 #美食 #教程\",\n    likes: \"3.4万\",\n    comments: \"2389\",\n    shares: \"9876\"\n  }, {\n    id: 4,\n    url: \"https://cdn.plyr.io/static/demo/View_From_A_Blue_Moon_Trailer-576p.mp4\",\n    poster: \"https://cdn.plyr.io/static/demo/View_From_A_Blue_Moon_Trailer-HD.jpg\",\n    username: \"@舞蹈小天才\",\n    description: \"学跳最新流行舞蹈 #舞蹈 #挑战\",\n    likes: \"67.8万\",\n    comments: \"14356\",\n    shares: \"25.7万\"\n  }, {\n    id: 5,\n    url: \"https://cdn.plyr.io/static/demo/View_From_A_Blue_Moon_Trailer-576p.mp4\",\n    poster: \"https://cdn.plyr.io/static/demo/View_From_A_Blue_Moon_Trailer-HD.jpg\",\n    username: \"@生活小技巧\",\n    description: \"一分钟解决你的日常难题 #技巧 #生活\",\n    likes: \"2.3万\",\n    comments: \"4576\",\n    shares: \"1.2万\"\n  }];\n\n  // 格式化数字\n  const formatNumber = num => {\n    if (num >= 10000) {\n      return (num / 10000).toFixed(1) + '万';\n    }\n    if (num >= 1000) {\n      return (num / 1000).toFixed(1) + 'k';\n    }\n    return num.toString();\n  };\n\n  // API数据获取\n  useEffect(() => {\n    const fetchVideos = async () => {\n      try {\n        setLoading(true);\n        // 尝试从API获取数据\n        // 注意: 如果API还未实现，将捕获错误并使用示例数据\n        const response = await axios.get('/api/content/recommended');\n\n        // 格式化API返回的数据\n        const formattedVideos = response.data.map(video => {\n          var _video$author, _video$stats, _video$stats2, _video$stats3;\n          return {\n            id: video.id,\n            url: video.contentUrl || video.embedUrl,\n            poster: video.thumbnailUrl,\n            username: ((_video$author = video.author) === null || _video$author === void 0 ? void 0 : _video$author.username) || '匿名用户',\n            description: video.description || '',\n            likes: formatNumber(((_video$stats = video.stats) === null || _video$stats === void 0 ? void 0 : _video$stats.likes) || 0),\n            comments: formatNumber(((_video$stats2 = video.stats) === null || _video$stats2 === void 0 ? void 0 : _video$stats2.comments) || 0),\n            shares: formatNumber(((_video$stats3 = video.stats) === null || _video$stats3 === void 0 ? void 0 : _video$stats3.shares) || 0)\n          };\n        });\n        setVideos(formattedVideos);\n      } catch (err) {\n        console.error('获取视频失败:', err);\n        setError('无法加载视频，使用示例数据');\n        // 使用示例数据作为备用\n        setVideos(sampleVideoData);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchVideos();\n  }, []);\n\n  // 处理视频播放/暂停\n  const toggleVideoPlayback = (videoElement, videoWrapper) => {\n    if (!videoElement) return;\n    if (videoElement.paused) {\n      videoElement.play().then(() => {\n        videoWrapper.classList.remove('paused');\n      }).catch(err => {\n        console.error('播放视频失败:', err);\n        videoWrapper.classList.add('paused');\n      });\n    } else {\n      videoElement.pause();\n      videoWrapper.classList.add('paused');\n    }\n  };\n\n  // 设置当前视频的引用\n  const setVideoRef = useCallback(node => {\n    if (node) {\n      activeVideoRef.current = node;\n      // 尝试自动播放当前视频\n      node.play().catch(err => {\n        console.log('自动播放被阻止，需要用户交互:', err);\n        node.parentNode.classList.add('paused');\n      });\n    }\n  }, []);\n\n  // 处理进度条点击\n  const handleProgressClick = (e, videoElement, progressContainer) => {\n    e.stopPropagation(); // 防止触发视频播放/暂停\n\n    if (!videoElement || !progressContainer) return;\n    const rect = progressContainer.getBoundingClientRect();\n    const pos = (e.clientX - rect.left) / rect.width;\n    videoElement.currentTime = pos * videoElement.duration;\n  };\n\n  // 滚动到下一个视频\n  const scrollToNextVideo = () => {\n    if (currentIndex >= videos.length - 1 || isScrolling) return;\n    setIsScrolling(true);\n\n    // 暂停当前视频\n    if (activeVideoRef.current) {\n      activeVideoRef.current.pause();\n    }\n    setCurrentIndex(prevIndex => prevIndex + 1);\n\n    // 滚动完成后\n    setTimeout(() => {\n      setIsScrolling(false);\n    }, 300);\n  };\n\n  // 滚动到上一个视频\n  const scrollToPrevVideo = () => {\n    if (currentIndex <= 0 || isScrolling) return;\n    setIsScrolling(true);\n\n    // 暂停当前视频\n    if (activeVideoRef.current) {\n      activeVideoRef.current.pause();\n    }\n    setCurrentIndex(prevIndex => prevIndex - 1);\n\n    // 滚动完成后\n    setTimeout(() => {\n      setIsScrolling(false);\n    }, 300);\n  };\n\n  // 处理触摸事件\n  const handleTouchStart = e => {\n    touchStartY.current = e.touches[0].clientY;\n  };\n  const handleTouchMove = e => {\n    e.preventDefault(); // 防止页面滚动\n  };\n  const handleTouchEnd = e => {\n    touchEndY.current = e.changedTouches[0].clientY;\n    const diffY = touchEndY.current - touchStartY.current;\n\n    // 上滑查看下一个视频\n    if (diffY < -50) {\n      scrollToNextVideo();\n    }\n    // 下滑查看上一个视频\n    else if (diffY > 50) {\n      scrollToPrevVideo();\n    }\n  };\n\n  // 处理鼠标滚轮事件\n  const handleWheel = e => {\n    e.preventDefault();\n    if (e.deltaY > 0) {\n      scrollToNextVideo();\n    } else {\n      scrollToPrevVideo();\n    }\n  };\n\n  // 设置事件监听器\n  useEffect(() => {\n    const container = videoContainerRef.current;\n    if (container) {\n      container.addEventListener('wheel', handleWheel);\n      container.addEventListener('touchstart', handleTouchStart);\n      container.addEventListener('touchmove', handleTouchMove);\n      container.addEventListener('touchend', handleTouchEnd);\n\n      // 防止页面滚动干扰视频滑动\n      document.body.style.overflow = 'hidden';\n    }\n    return () => {\n      if (container) {\n        container.removeEventListener('wheel', handleWheel);\n        container.removeEventListener('touchstart', handleTouchStart);\n        container.removeEventListener('touchmove', handleTouchMove);\n        container.removeEventListener('touchend', handleTouchEnd);\n      }\n\n      // 恢复页面滚动\n      document.body.style.overflow = 'auto';\n    };\n  }, []);\n\n  // 更新视频进度条\n  useEffect(() => {\n    // 获取当前激活的视频元素\n    const videoElement = activeVideoRef.current;\n    if (!videoElement) return;\n\n    // 进度条更新函数\n    const updateProgress = () => {\n      const progressBar = videoElement.parentNode.querySelector('.progress-bar');\n      if (progressBar && videoElement.duration) {\n        const percent = videoElement.currentTime / videoElement.duration * 100;\n        progressBar.style.width = `${percent}%`;\n      }\n    };\n\n    // 添加事件监听器\n    videoElement.addEventListener('timeupdate', updateProgress);\n\n    // 清理函数\n    return () => {\n      videoElement.removeEventListener('timeupdate', updateProgress);\n    };\n  }, [currentIndex]);\n\n  // 加载中状态\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"video-container loading\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-spinner\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: 'white',\n          textAlign: 'center',\n          marginTop: '20px'\n        },\n        children: \"\\u52A0\\u8F7D\\u4E2D...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 13\n    }, this);\n  }\n\n  // 错误状态\n  if (error && videos.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"video-container error\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: 'white',\n          textAlign: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\u52A0\\u8F7D\\u5931\\u8D25\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => window.location.reload(),\n          children: \"\\u91CD\\u8BD5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 13\n    }, this);\n  }\n\n  // 没有视频\n  if (videos.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"video-container empty\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: 'white',\n          textAlign: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\u6CA1\\u6709\\u53EF\\u7528\\u7684\\u89C6\\u9891\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u8BF7\\u7A0D\\u540E\\u518D\\u8BD5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 13\n    }, this);\n  }\n\n  // 渲染视频项\n  const renderVideoItem = (video, position) => {\n    if (!video) return null;\n    const isActive = position === 'active';\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `video-item ${position}`,\n      \"data-video-id\": video.id,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `video-wrapper ${isActive ? '' : 'paused'}`,\n        onClick: e => {\n          const videoElement = e.currentTarget.querySelector('video');\n          toggleVideoPlayback(videoElement, e.currentTarget);\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loading-spinner\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"video\", {\n          ref: isActive ? setVideoRef : null,\n          src: video.url,\n          poster: video.poster,\n          playsInline: true,\n          \"webkit-playsinline\": \"true\",\n          muted: !isActive,\n          loop: true,\n          preload: \"auto\",\n          onCanPlay: e => {\n            const spinner = e.target.parentNode.querySelector('.loading-spinner');\n            if (spinner) {\n              spinner.style.display = 'none';\n            }\n          },\n          onError: e => {\n            console.error('视频加载失败:', video.url);\n            const spinner = e.target.parentNode.querySelector('.loading-spinner');\n            if (spinner) {\n              spinner.style.display = 'none';\n            }\n            // 显示错误提示\n            const errorMsg = document.createElement('div');\n            errorMsg.style = 'position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); background:rgba(0,0,0,0.7); padding:10px 20px; border-radius:5px; color:white;';\n            errorMsg.innerText = '视频加载失败';\n            e.target.parentNode.appendChild(errorMsg);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 336,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"play-button\",\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            width: \"24\",\n            height: \"24\",\n            viewBox: \"0 0 24 24\",\n            fill: \"white\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              d: \"M8 5v14l11-7z\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 367,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 366,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 365,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"video-controls\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"progress-bar-container\",\n            onClick: e => {\n              const videoElement = e.currentTarget.parentNode.parentNode.querySelector('video');\n              handleProgressClick(e, videoElement, e.currentTarget);\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"progress-bar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 378,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 371,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 370,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"video-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: video.username\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 382,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: video.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 383,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 381,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"video-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"action-btn\",\n            children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n              viewBox: \"0 0 24 24\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                d: \"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 387,\n                columnNumber: 54\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 387,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"action-count\",\n              children: video.likes\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 388,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 386,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"action-btn\",\n            children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n              viewBox: \"0 0 24 24\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                d: \"M21.99 4c0-1.1-.89-2-1.99-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4-.01-18z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 391,\n                columnNumber: 54\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 391,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"action-count\",\n              children: video.comments\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 392,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 390,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"action-btn\",\n            children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n              viewBox: \"0 0 24 24\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                d: \"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 395,\n                columnNumber: 54\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 395,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"action-count\",\n              children: video.shares\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 396,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 394,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 385,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 17\n      }, this)\n    }, video.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 327,\n      columnNumber: 13\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"video-container\",\n      ref: videoContainerRef,\n      children: [currentIndex > 0 && renderVideoItem(videos[currentIndex - 1], 'prev'), renderVideoItem(videos[currentIndex], 'active'), currentIndex < videos.length - 1 && renderVideoItem(videos[currentIndex + 1], 'next')]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 406,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bottom-nav\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"nav-item active\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"nav-icon\",\n          children: \"\\uD83C\\uDFE0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 419,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"\\u9996\\u9875\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 420,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 418,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"nav-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"nav-icon\",\n          children: \"\\uD83D\\uDD0D\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 423,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"\\u53D1\\u73B0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 424,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 422,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"nav-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"nav-icon\",\n          children: \"\\u2795\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 427,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"\\u6DFB\\u52A0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 428,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 426,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"nav-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"nav-icon\",\n          children: \"\\uD83D\\uDCAC\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 431,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"\\u6D88\\u606F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 432,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 430,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"nav-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"nav-icon\",\n          children: \"\\uD83D\\uDC64\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 435,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"\\u6211\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 436,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 434,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 417,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n_s(VideoFeed, \"puuX/r5RkTVn+e5Kx58u8wWIeHw=\");\n_c = VideoFeed;\nexport default VideoFeed;\nvar _c;\n$RefreshReg$(_c, \"VideoFeed\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useCallback","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","VideoFeed","_s","currentIndex","setCurrentIndex","isScrolling","setIsScrolling","videos","setVideos","loading","setLoading","error","setError","videoContainerRef","activeVideoRef","touchStartY","touchEndY","sampleVideoData","id","url","poster","username","description","likes","comments","shares","formatNumber","num","toFixed","toString","fetchVideos","response","get","formattedVideos","data","map","video","_video$author","_video$stats","_video$stats2","_video$stats3","contentUrl","embedUrl","thumbnailUrl","author","stats","err","console","toggleVideoPlayback","videoElement","videoWrapper","paused","play","then","classList","remove","catch","add","pause","setVideoRef","node","current","log","parentNode","handleProgressClick","e","progressContainer","stopPropagation","rect","getBoundingClientRect","pos","clientX","left","width","currentTime","duration","scrollToNextVideo","length","prevIndex","setTimeout","scrollToPrevVideo","handleTouchStart","touches","clientY","handleTouchMove","preventDefault","handleTouchEnd","changedTouches","diffY","handleWheel","deltaY","container","addEventListener","document","body","style","overflow","removeEventListener","updateProgress","progressBar","querySelector","percent","className","children","fileName","_jsxFileName","lineNumber","columnNumber","color","textAlign","marginTop","onClick","window","location","reload","renderVideoItem","position","isActive","currentTarget","ref","src","playsInline","muted","loop","preload","onCanPlay","spinner","target","display","onError","errorMsg","createElement","innerText","appendChild","height","viewBox","fill","d","_c","$RefreshReg$"],"sources":["/oper/work/endian/tiktok_style_app/client/src/components/VideoPlayer/VideoFeed.js"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from 'react';\nimport axios from 'axios';\nimport './VideoPlayer.css';\n\nconst VideoFeed = () => {\n    // 状态变量\n    const [currentIndex, setCurrentIndex] = useState(0);\n    const [isScrolling, setIsScrolling] = useState(false);\n    const [videos, setVideos] = useState([]);\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState(null);\n\n    // Refs\n    const videoContainerRef = useRef(null);\n    const activeVideoRef = useRef(null);\n    const touchStartY = useRef(0);\n    const touchEndY = useRef(0);\n\n    // 模拟视频数据 - 在API连接前使用\n    const sampleVideoData = [\n        {\n            id: 1,\n            url: \"https://cdn.plyr.io/static/demo/View_From_A_Blue_Moon_Trailer-576p.mp4\",\n            poster: \"https://cdn.plyr.io/static/demo/View_From_A_Blue_Moon_Trailer-HD.jpg\",\n            username: \"@创作者小明\",\n            description: \"这是一个超级有趣的视频 #热门 #推荐\",\n            likes: \"1.2万\",\n            comments: \"1345\",\n            shares: \"2.3万\"\n        },\n        {\n            id: 2,\n            url: \"https://cdn.plyr.io/static/demo/View_From_A_Blue_Moon_Trailer-576p.mp4\",\n            poster: \"https://cdn.plyr.io/static/demo/View_From_A_Blue_Moon_Trailer-HD.jpg\",\n            username: \"@旅行达人\",\n            description: \"美丽的风景，你想去吗？ #旅行 #风景\",\n            likes: \"8.7万\",\n            comments: \"5678\",\n            shares: \"1.6万\"\n        },\n        {\n            id: 3,\n            url: \"https://cdn.plyr.io/static/demo/View_From_A_Blue_Moon_Trailer-576p.mp4\",\n            poster: \"https://cdn.plyr.io/static/demo/View_From_A_Blue_Moon_Trailer-HD.jpg\",\n            username: \"@美食博主\",\n            description: \"超简单的美食教程，三分钟学会 #美食 #教程\",\n            likes: \"3.4万\",\n            comments: \"2389\",\n            shares: \"9876\"\n        },\n        {\n            id: 4,\n            url: \"https://cdn.plyr.io/static/demo/View_From_A_Blue_Moon_Trailer-576p.mp4\",\n            poster: \"https://cdn.plyr.io/static/demo/View_From_A_Blue_Moon_Trailer-HD.jpg\",\n            username: \"@舞蹈小天才\",\n            description: \"学跳最新流行舞蹈 #舞蹈 #挑战\",\n            likes: \"67.8万\",\n            comments: \"14356\",\n            shares: \"25.7万\"\n        },\n        {\n            id: 5,\n            url: \"https://cdn.plyr.io/static/demo/View_From_A_Blue_Moon_Trailer-576p.mp4\",\n            poster: \"https://cdn.plyr.io/static/demo/View_From_A_Blue_Moon_Trailer-HD.jpg\",\n            username: \"@生活小技巧\",\n            description: \"一分钟解决你的日常难题 #技巧 #生活\",\n            likes: \"2.3万\",\n            comments: \"4576\",\n            shares: \"1.2万\"\n        }\n    ];\n\n    // 格式化数字\n    const formatNumber = (num) => {\n        if (num >= 10000) {\n            return (num / 10000).toFixed(1) + '万';\n        }\n        if (num >= 1000) {\n            return (num / 1000).toFixed(1) + 'k';\n        }\n        return num.toString();\n    };\n\n    // API数据获取\n    useEffect(() => {\n        const fetchVideos = async () => {\n            try {\n                setLoading(true);\n                // 尝试从API获取数据\n                // 注意: 如果API还未实现，将捕获错误并使用示例数据\n                const response = await axios.get('/api/content/recommended');\n\n                // 格式化API返回的数据\n                const formattedVideos = response.data.map(video => ({\n                    id: video.id,\n                    url: video.contentUrl || video.embedUrl,\n                    poster: video.thumbnailUrl,\n                    username: video.author?.username || '匿名用户',\n                    description: video.description || '',\n                    likes: formatNumber(video.stats?.likes || 0),\n                    comments: formatNumber(video.stats?.comments || 0),\n                    shares: formatNumber(video.stats?.shares || 0)\n                }));\n\n                setVideos(formattedVideos);\n            } catch (err) {\n                console.error('获取视频失败:', err);\n                setError('无法加载视频，使用示例数据');\n                // 使用示例数据作为备用\n                setVideos(sampleVideoData);\n            } finally {\n                setLoading(false);\n            }\n        };\n\n        fetchVideos();\n    }, []);\n\n    // 处理视频播放/暂停\n    const toggleVideoPlayback = (videoElement, videoWrapper) => {\n        if (!videoElement) return;\n\n        if (videoElement.paused) {\n            videoElement.play()\n                .then(() => {\n                    videoWrapper.classList.remove('paused');\n                })\n                .catch(err => {\n                    console.error('播放视频失败:', err);\n                    videoWrapper.classList.add('paused');\n                });\n        } else {\n            videoElement.pause();\n            videoWrapper.classList.add('paused');\n        }\n    };\n\n    // 设置当前视频的引用\n    const setVideoRef = useCallback(node => {\n        if (node) {\n            activeVideoRef.current = node;\n            // 尝试自动播放当前视频\n            node.play().catch(err => {\n                console.log('自动播放被阻止，需要用户交互:', err);\n                node.parentNode.classList.add('paused');\n            });\n        }\n    }, []);\n\n    // 处理进度条点击\n    const handleProgressClick = (e, videoElement, progressContainer) => {\n        e.stopPropagation(); // 防止触发视频播放/暂停\n\n        if (!videoElement || !progressContainer) return;\n\n        const rect = progressContainer.getBoundingClientRect();\n        const pos = (e.clientX - rect.left) / rect.width;\n        videoElement.currentTime = pos * videoElement.duration;\n    };\n\n    // 滚动到下一个视频\n    const scrollToNextVideo = () => {\n        if (currentIndex >= videos.length - 1 || isScrolling) return;\n\n        setIsScrolling(true);\n\n        // 暂停当前视频\n        if (activeVideoRef.current) {\n            activeVideoRef.current.pause();\n        }\n\n        setCurrentIndex(prevIndex => prevIndex + 1);\n\n        // 滚动完成后\n        setTimeout(() => {\n            setIsScrolling(false);\n        }, 300);\n    };\n\n    // 滚动到上一个视频\n    const scrollToPrevVideo = () => {\n        if (currentIndex <= 0 || isScrolling) return;\n\n        setIsScrolling(true);\n\n        // 暂停当前视频\n        if (activeVideoRef.current) {\n            activeVideoRef.current.pause();\n        }\n\n        setCurrentIndex(prevIndex => prevIndex - 1);\n\n        // 滚动完成后\n        setTimeout(() => {\n            setIsScrolling(false);\n        }, 300);\n    };\n\n    // 处理触摸事件\n    const handleTouchStart = (e) => {\n        touchStartY.current = e.touches[0].clientY;\n    };\n\n    const handleTouchMove = (e) => {\n        e.preventDefault(); // 防止页面滚动\n    };\n\n    const handleTouchEnd = (e) => {\n        touchEndY.current = e.changedTouches[0].clientY;\n        const diffY = touchEndY.current - touchStartY.current;\n\n        // 上滑查看下一个视频\n        if (diffY < -50) {\n            scrollToNextVideo();\n        }\n        // 下滑查看上一个视频\n        else if (diffY > 50) {\n            scrollToPrevVideo();\n        }\n    };\n\n    // 处理鼠标滚轮事件\n    const handleWheel = (e) => {\n        e.preventDefault();\n\n        if (e.deltaY > 0) {\n            scrollToNextVideo();\n        } else {\n            scrollToPrevVideo();\n        }\n    };\n\n    // 设置事件监听器\n    useEffect(() => {\n        const container = videoContainerRef.current;\n\n        if (container) {\n            container.addEventListener('wheel', handleWheel);\n            container.addEventListener('touchstart', handleTouchStart);\n            container.addEventListener('touchmove', handleTouchMove);\n            container.addEventListener('touchend', handleTouchEnd);\n\n            // 防止页面滚动干扰视频滑动\n            document.body.style.overflow = 'hidden';\n        }\n\n        return () => {\n            if (container) {\n                container.removeEventListener('wheel', handleWheel);\n                container.removeEventListener('touchstart', handleTouchStart);\n                container.removeEventListener('touchmove', handleTouchMove);\n                container.removeEventListener('touchend', handleTouchEnd);\n            }\n\n            // 恢复页面滚动\n            document.body.style.overflow = 'auto';\n        };\n    }, []);\n\n    // 更新视频进度条\n    useEffect(() => {\n        // 获取当前激活的视频元素\n        const videoElement = activeVideoRef.current;\n\n        if (!videoElement) return;\n\n        // 进度条更新函数\n        const updateProgress = () => {\n            const progressBar = videoElement.parentNode.querySelector('.progress-bar');\n            if (progressBar && videoElement.duration) {\n                const percent = (videoElement.currentTime / videoElement.duration) * 100;\n                progressBar.style.width = `${percent}%`;\n            }\n        };\n\n        // 添加事件监听器\n        videoElement.addEventListener('timeupdate', updateProgress);\n\n        // 清理函数\n        return () => {\n            videoElement.removeEventListener('timeupdate', updateProgress);\n        };\n    }, [currentIndex]);\n\n    // 加载中状态\n    if (loading) {\n        return (\n            <div className=\"video-container loading\">\n                <div className=\"loading-spinner\"></div>\n                <div style={{ color: 'white', textAlign: 'center', marginTop: '20px' }}>加载中...</div>\n            </div>\n        );\n    }\n\n    // 错误状态\n    if (error && videos.length === 0) {\n        return (\n            <div className=\"video-container error\">\n                <div style={{ color: 'white', textAlign: 'center' }}>\n                    <h3>加载失败</h3>\n                    <p>{error}</p>\n                    <button onClick={() => window.location.reload()}>重试</button>\n                </div>\n            </div>\n        );\n    }\n\n    // 没有视频\n    if (videos.length === 0) {\n        return (\n            <div className=\"video-container empty\">\n                <div style={{ color: 'white', textAlign: 'center' }}>\n                    <h3>没有可用的视频</h3>\n                    <p>请稍后再试</p>\n                </div>\n            </div>\n        );\n    }\n\n    // 渲染视频项\n    const renderVideoItem = (video, position) => {\n        if (!video) return null;\n\n        const isActive = position === 'active';\n\n        return (\n            <div key={video.id} className={`video-item ${position}`} data-video-id={video.id}>\n                <div\n                    className={`video-wrapper ${isActive ? '' : 'paused'}`}\n                    onClick={(e) => {\n                        const videoElement = e.currentTarget.querySelector('video');\n                        toggleVideoPlayback(videoElement, e.currentTarget);\n                    }}\n                >\n                    <div className=\"loading-spinner\"></div>\n                    <video\n                        ref={isActive ? setVideoRef : null}\n                        src={video.url}\n                        poster={video.poster}\n                        playsInline\n                        webkit-playsinline=\"true\"\n                        muted={!isActive}\n                        loop\n                        preload=\"auto\"\n                        onCanPlay={(e) => {\n                            const spinner = e.target.parentNode.querySelector('.loading-spinner');\n                            if (spinner) {\n                                spinner.style.display = 'none';\n                            }\n                        }}\n                        onError={(e) => {\n                            console.error('视频加载失败:', video.url);\n                            const spinner = e.target.parentNode.querySelector('.loading-spinner');\n                            if (spinner) {\n                                spinner.style.display = 'none';\n                            }\n                            // 显示错误提示\n                            const errorMsg = document.createElement('div');\n                            errorMsg.style = 'position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); background:rgba(0,0,0,0.7); padding:10px 20px; border-radius:5px; color:white;';\n                            errorMsg.innerText = '视频加载失败';\n                            e.target.parentNode.appendChild(errorMsg);\n                        }}\n                    >\n                    </video>\n                    <div className=\"play-button\">\n                        <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"white\">\n                            <path d=\"M8 5v14l11-7z\"></path>\n                        </svg>\n                    </div>\n                    <div className=\"video-controls\">\n                        <div\n                            className=\"progress-bar-container\"\n                            onClick={(e) => {\n                                const videoElement = e.currentTarget.parentNode.parentNode.querySelector('video');\n                                handleProgressClick(e, videoElement, e.currentTarget);\n                            }}\n                        >\n                            <div className=\"progress-bar\"></div>\n                        </div>\n                    </div>\n                    <div className=\"video-info\">\n                        <h3>{video.username}</h3>\n                        <p>{video.description}</p>\n                    </div>\n                    <div className=\"video-actions\">\n                        <div className=\"action-btn\">\n                            <svg viewBox=\"0 0 24 24\"><path d=\"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z\" /></svg>\n                            <div className=\"action-count\">{video.likes}</div>\n                        </div>\n                        <div className=\"action-btn\">\n                            <svg viewBox=\"0 0 24 24\"><path d=\"M21.99 4c0-1.1-.89-2-1.99-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4-.01-18z\" /></svg>\n                            <div className=\"action-count\">{video.comments}</div>\n                        </div>\n                        <div className=\"action-btn\">\n                            <svg viewBox=\"0 0 24 24\"><path d=\"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z\" /></svg>\n                            <div className=\"action-count\">{video.shares}</div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    };\n\n    return (\n        <>\n            <div className=\"video-container\" ref={videoContainerRef}>\n                {/* 渲染前一个视频（如果存在） */}\n                {currentIndex > 0 && renderVideoItem(videos[currentIndex - 1], 'prev')}\n\n                {/* 渲染当前视频 */}\n                {renderVideoItem(videos[currentIndex], 'active')}\n\n                {/* 渲染下一个视频（如果存在） */}\n                {currentIndex < videos.length - 1 && renderVideoItem(videos[currentIndex + 1], 'next')}\n            </div>\n\n            <div className=\"bottom-nav\">\n                <div className=\"nav-item active\">\n                    <div className=\"nav-icon\">🏠</div>\n                    <span>首页</span>\n                </div>\n                <div className=\"nav-item\">\n                    <div className=\"nav-icon\">🔍</div>\n                    <span>发现</span>\n                </div>\n                <div className=\"nav-item\">\n                    <div className=\"nav-icon\">➕</div>\n                    <span>添加</span>\n                </div>\n                <div className=\"nav-item\">\n                    <div className=\"nav-icon\">💬</div>\n                    <span>消息</span>\n                </div>\n                <div className=\"nav-item\">\n                    <div className=\"nav-icon\">👤</div>\n                    <span>我</span>\n                </div>\n            </div>\n        </>\n    );\n};\n\nexport default VideoFeed;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}