{"ast":null,"code":"var _jsxFileName = \"/oper/work/endian/tiktok_style_app/client/src/components/VideoPlayer/VideoPlayer.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef, useCallback } from 'react';\nimport './VideoPlayer.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst VideoPlayer = ({\n  videos = [],\n  onVideoChange\n}) => {\n  _s();\n  // 状态变量\n  const [currentIndex, setCurrentIndex] = useState(0);\n  const [isScrolling, setIsScrolling] = useState(false);\n\n  // Refs\n  const videoContainerRef = useRef(null);\n  const activeVideoRef = useRef(null);\n  const touchStartY = useRef(0);\n  const touchEndY = useRef(0);\n\n  // 使用示例视频数据（如果未提供videos）\n  const defaultVideos = [{\n    id: 1,\n    url: \"https://cdn.plyr.io/static/demo/View_From_A_Blue_Moon_Trailer-576p.mp4\",\n    poster: \"https://cdn.plyr.io/static/demo/View_From_A_Blue_Moon_Trailer-HD.jpg\",\n    username: \"@创作者小明\",\n    description: \"这是一个超级有趣的视频 #热门 #推荐\",\n    likes: \"1.2万\",\n    comments: \"1345\",\n    shares: \"2.3万\"\n  }, {\n    id: 2,\n    url: \"https://cdn.plyr.io/static/demo/View_From_A_Blue_Moon_Trailer-576p.mp4\",\n    poster: \"https://cdn.plyr.io/static/demo/View_From_A_Blue_Moon_Trailer-HD.jpg\",\n    username: \"@旅行达人\",\n    description: \"美丽的风景，你想去吗？ #旅行 #风景\",\n    likes: \"8.7万\",\n    comments: \"5678\",\n    shares: \"1.6万\"\n  }, {\n    id: 3,\n    url: \"https://cdn.plyr.io/static/demo/View_From_A_Blue_Moon_Trailer-576p.mp4\",\n    poster: \"https://cdn.plyr.io/static/demo/View_From_A_Blue_Moon_Trailer-HD.jpg\",\n    username: \"@美食博主\",\n    description: \"超简单的美食教程，三分钟学会 #美食 #教程\",\n    likes: \"3.4万\",\n    comments: \"2389\",\n    shares: \"9876\"\n  }];\n\n  // 使用提供的videos或默认视频\n  const videoData = videos.length > 0 ? videos : defaultVideos;\n\n  // 当前视频变化时通知父组件\n  useEffect(() => {\n    if (onVideoChange && videoData[currentIndex]) {\n      onVideoChange(videoData[currentIndex], currentIndex);\n    }\n  }, [currentIndex, onVideoChange, videoData]);\n\n  // 处理视频播放/暂停\n  const toggleVideoPlayback = (videoElement, videoWrapper) => {\n    if (!videoElement) return;\n    if (videoElement.paused) {\n      videoElement.play().then(() => {\n        videoWrapper.classList.remove('paused');\n      }).catch(err => {\n        console.error('播放视频失败:', err);\n        videoWrapper.classList.add('paused');\n      });\n    } else {\n      videoElement.pause();\n      videoWrapper.classList.add('paused');\n    }\n  };\n\n  // 设置当前视频的引用\n  const setVideoRef = useCallback(node => {\n    if (node) {\n      activeVideoRef.current = node;\n      // 尝试自动播放当前视频\n      node.play().catch(err => {\n        console.log('自动播放被阻止，需要用户交互:', err);\n        node.parentNode.classList.add('paused');\n      });\n    }\n  }, []);\n\n  // 处理进度条点击\n  const handleProgressClick = (e, videoElement, progressContainer) => {\n    e.stopPropagation(); // 防止触发视频播放/暂停\n\n    if (!videoElement || !progressContainer) return;\n    const rect = progressContainer.getBoundingClientRect();\n    const pos = (e.clientX - rect.left) / rect.width;\n    videoElement.currentTime = pos * videoElement.duration;\n  };\n\n  // 滚动到下一个视频\n  const scrollToNextVideo = () => {\n    if (currentIndex >= videoData.length - 1 || isScrolling) return;\n    setIsScrolling(true);\n\n    // 暂停当前视频\n    if (activeVideoRef.current) {\n      activeVideoRef.current.pause();\n    }\n    setCurrentIndex(prevIndex => prevIndex + 1);\n\n    // 滚动完成后\n    setTimeout(() => {\n      setIsScrolling(false);\n    }, 300);\n  };\n\n  // 滚动到上一个视频\n  const scrollToPrevVideo = () => {\n    if (currentIndex <= 0 || isScrolling) return;\n    setIsScrolling(true);\n\n    // 暂停当前视频\n    if (activeVideoRef.current) {\n      activeVideoRef.current.pause();\n    }\n    setCurrentIndex(prevIndex => prevIndex - 1);\n\n    // 滚动完成后\n    setTimeout(() => {\n      setIsScrolling(false);\n    }, 300);\n  };\n\n  // 处理触摸事件\n  const handleTouchStart = e => {\n    touchStartY.current = e.touches[0].clientY;\n  };\n  const handleTouchMove = e => {\n    e.preventDefault(); // 防止页面滚动\n  };\n  const handleTouchEnd = e => {\n    touchEndY.current = e.changedTouches[0].clientY;\n    const diffY = touchEndY.current - touchStartY.current;\n\n    // 上滑查看下一个视频\n    if (diffY < -50) {\n      scrollToNextVideo();\n    }\n    // 下滑查看上一个视频\n    else if (diffY > 50) {\n      scrollToPrevVideo();\n    }\n  };\n\n  // 处理鼠标滚轮事件\n  const handleWheel = e => {\n    e.preventDefault();\n    if (e.deltaY > 0) {\n      scrollToNextVideo();\n    } else {\n      scrollToPrevVideo();\n    }\n  };\n\n  // 设置事件监听器\n  useEffect(() => {\n    const container = videoContainerRef.current;\n    if (container) {\n      container.addEventListener('wheel', handleWheel);\n      container.addEventListener('touchstart', handleTouchStart);\n      container.addEventListener('touchmove', handleTouchMove);\n      container.addEventListener('touchend', handleTouchEnd);\n    }\n    return () => {\n      if (container) {\n        container.removeEventListener('wheel', handleWheel);\n        container.removeEventListener('touchstart', handleTouchStart);\n        container.removeEventListener('touchmove', handleTouchMove);\n        container.removeEventListener('touchend', handleTouchEnd);\n      }\n    };\n  }, []);\n\n  // 更新视频进度条\n  useEffect(() => {\n    // 获取当前激活的视频元素\n    const videoElement = activeVideoRef.current;\n    if (!videoElement) return;\n\n    // 进度条更新函数\n    const updateProgress = () => {\n      const progressBar = videoElement.parentNode.querySelector('.progress-bar');\n      if (progressBar && videoElement.duration) {\n        const percent = videoElement.currentTime / videoElement.duration * 100;\n        progressBar.style.width = `${percent}%`;\n      }\n    };\n\n    // 添加事件监听器\n    videoElement.addEventListener('timeupdate', updateProgress);\n\n    // 清理函数\n    return () => {\n      videoElement.removeEventListener('timeupdate', updateProgress);\n    };\n  }, [currentIndex]);\n\n  // 如果没有视频数据\n  if (videoData.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"video-container empty\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: 'white',\n          textAlign: 'center'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\u6CA1\\u6709\\u53EF\\u7528\\u7684\\u89C6\\u9891\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 7\n    }, this);\n  }\n\n  // 渲染视频项\n  const renderVideoItem = (video, position) => {\n    if (!video) return null;\n    const isActive = position === 'active';\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `video-item ${position}`,\n      \"data-video-id\": video.id,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `video-wrapper ${isActive ? '' : 'paused'}`,\n        onClick: e => {\n          const videoElement = e.currentTarget.querySelector('video');\n          toggleVideoPlayback(videoElement, e.currentTarget);\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loading-spinner\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"video\", {\n          ref: isActive ? setVideoRef : null,\n          src: video.url,\n          poster: video.poster,\n          playsInline: true,\n          \"webkit-playsinline\": \"true\",\n          muted: !isActive,\n          loop: true,\n          preload: \"auto\",\n          onCanPlay: e => {\n            const spinner = e.target.parentNode.querySelector('.loading-spinner');\n            if (spinner) {\n              spinner.style.display = 'none';\n            }\n          },\n          onError: e => {\n            console.error('视频加载失败:', video.url);\n            const spinner = e.target.parentNode.querySelector('.loading-spinner');\n            if (spinner) {\n              spinner.style.display = 'none';\n            }\n            // 显示错误提示\n            const errorMsg = document.createElement('div');\n            errorMsg.style = 'position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); background:rgba(0,0,0,0.7); padding:10px 20px; border-radius:5px; color:white;';\n            errorMsg.innerText = '视频加载失败';\n            e.target.parentNode.appendChild(errorMsg);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"play-button\",\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            width: \"24\",\n            height: \"24\",\n            viewBox: \"0 0 24 24\",\n            fill: \"white\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              d: \"M8 5v14l11-7z\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 277,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"video-controls\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"progress-bar-container\",\n            onClick: e => {\n              const videoElement = e.currentTarget.parentNode.parentNode.querySelector('video');\n              handleProgressClick(e, videoElement, e.currentTarget);\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"progress-bar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 288,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 9\n      }, this)\n    }, video.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 7\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"video-container\",\n    ref: videoContainerRef,\n    children: [currentIndex > 0 && renderVideoItem(videoData[currentIndex - 1], 'prev'), renderVideoItem(videoData[currentIndex], 'active'), currentIndex < videoData.length - 1 && renderVideoItem(videoData[currentIndex + 1], 'next')]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 297,\n    columnNumber: 5\n  }, this);\n};\n_s(VideoPlayer, \"XJOeKWNZ7CbDg/4U80kHCQqZy2Y=\");\n_c = VideoPlayer;\nexport default VideoPlayer;\nvar _c;\n$RefreshReg$(_c, \"VideoPlayer\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useCallback","jsxDEV","_jsxDEV","VideoPlayer","videos","onVideoChange","_s","currentIndex","setCurrentIndex","isScrolling","setIsScrolling","videoContainerRef","activeVideoRef","touchStartY","touchEndY","defaultVideos","id","url","poster","username","description","likes","comments","shares","videoData","length","toggleVideoPlayback","videoElement","videoWrapper","paused","play","then","classList","remove","catch","err","console","error","add","pause","setVideoRef","node","current","log","parentNode","handleProgressClick","e","progressContainer","stopPropagation","rect","getBoundingClientRect","pos","clientX","left","width","currentTime","duration","scrollToNextVideo","prevIndex","setTimeout","scrollToPrevVideo","handleTouchStart","touches","clientY","handleTouchMove","preventDefault","handleTouchEnd","changedTouches","diffY","handleWheel","deltaY","container","addEventListener","removeEventListener","updateProgress","progressBar","querySelector","percent","style","className","children","color","textAlign","fileName","_jsxFileName","lineNumber","columnNumber","renderVideoItem","video","position","isActive","onClick","currentTarget","ref","src","playsInline","muted","loop","preload","onCanPlay","spinner","target","display","onError","errorMsg","document","createElement","innerText","appendChild","height","viewBox","fill","d","_c","$RefreshReg$"],"sources":["/oper/work/endian/tiktok_style_app/client/src/components/VideoPlayer/VideoPlayer.js"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from 'react';\nimport './VideoPlayer.css';\n\nconst VideoPlayer = ({ videos = [], onVideoChange }) => {\n  // 状态变量\n  const [currentIndex, setCurrentIndex] = useState(0);\n  const [isScrolling, setIsScrolling] = useState(false);\n\n  // Refs\n  const videoContainerRef = useRef(null);\n  const activeVideoRef = useRef(null);\n  const touchStartY = useRef(0);\n  const touchEndY = useRef(0);\n\n  // 使用示例视频数据（如果未提供videos）\n  const defaultVideos = [\n    {\n      id: 1,\n      url: \"https://cdn.plyr.io/static/demo/View_From_A_Blue_Moon_Trailer-576p.mp4\",\n      poster: \"https://cdn.plyr.io/static/demo/View_From_A_Blue_Moon_Trailer-HD.jpg\",\n      username: \"@创作者小明\",\n      description: \"这是一个超级有趣的视频 #热门 #推荐\",\n      likes: \"1.2万\",\n      comments: \"1345\",\n      shares: \"2.3万\"\n    },\n    {\n      id: 2,\n      url: \"https://cdn.plyr.io/static/demo/View_From_A_Blue_Moon_Trailer-576p.mp4\",\n      poster: \"https://cdn.plyr.io/static/demo/View_From_A_Blue_Moon_Trailer-HD.jpg\",\n      username: \"@旅行达人\",\n      description: \"美丽的风景，你想去吗？ #旅行 #风景\",\n      likes: \"8.7万\",\n      comments: \"5678\",\n      shares: \"1.6万\"\n    },\n    {\n      id: 3,\n      url: \"https://cdn.plyr.io/static/demo/View_From_A_Blue_Moon_Trailer-576p.mp4\",\n      poster: \"https://cdn.plyr.io/static/demo/View_From_A_Blue_Moon_Trailer-HD.jpg\",\n      username: \"@美食博主\",\n      description: \"超简单的美食教程，三分钟学会 #美食 #教程\",\n      likes: \"3.4万\",\n      comments: \"2389\",\n      shares: \"9876\"\n    }\n  ];\n\n  // 使用提供的videos或默认视频\n  const videoData = videos.length > 0 ? videos : defaultVideos;\n\n  // 当前视频变化时通知父组件\n  useEffect(() => {\n    if (onVideoChange && videoData[currentIndex]) {\n      onVideoChange(videoData[currentIndex], currentIndex);\n    }\n  }, [currentIndex, onVideoChange, videoData]);\n\n  // 处理视频播放/暂停\n  const toggleVideoPlayback = (videoElement, videoWrapper) => {\n    if (!videoElement) return;\n\n    if (videoElement.paused) {\n      videoElement.play()\n        .then(() => {\n          videoWrapper.classList.remove('paused');\n        })\n        .catch(err => {\n          console.error('播放视频失败:', err);\n          videoWrapper.classList.add('paused');\n        });\n    } else {\n      videoElement.pause();\n      videoWrapper.classList.add('paused');\n    }\n  };\n\n  // 设置当前视频的引用\n  const setVideoRef = useCallback(node => {\n    if (node) {\n      activeVideoRef.current = node;\n      // 尝试自动播放当前视频\n      node.play().catch(err => {\n        console.log('自动播放被阻止，需要用户交互:', err);\n        node.parentNode.classList.add('paused');\n      });\n    }\n  }, []);\n\n  // 处理进度条点击\n  const handleProgressClick = (e, videoElement, progressContainer) => {\n    e.stopPropagation(); // 防止触发视频播放/暂停\n\n    if (!videoElement || !progressContainer) return;\n\n    const rect = progressContainer.getBoundingClientRect();\n    const pos = (e.clientX - rect.left) / rect.width;\n    videoElement.currentTime = pos * videoElement.duration;\n  };\n\n  // 滚动到下一个视频\n  const scrollToNextVideo = () => {\n    if (currentIndex >= videoData.length - 1 || isScrolling) return;\n\n    setIsScrolling(true);\n\n    // 暂停当前视频\n    if (activeVideoRef.current) {\n      activeVideoRef.current.pause();\n    }\n\n    setCurrentIndex(prevIndex => prevIndex + 1);\n\n    // 滚动完成后\n    setTimeout(() => {\n      setIsScrolling(false);\n    }, 300);\n  };\n\n  // 滚动到上一个视频\n  const scrollToPrevVideo = () => {\n    if (currentIndex <= 0 || isScrolling) return;\n\n    setIsScrolling(true);\n\n    // 暂停当前视频\n    if (activeVideoRef.current) {\n      activeVideoRef.current.pause();\n    }\n\n    setCurrentIndex(prevIndex => prevIndex - 1);\n\n    // 滚动完成后\n    setTimeout(() => {\n      setIsScrolling(false);\n    }, 300);\n  };\n\n  // 处理触摸事件\n  const handleTouchStart = (e) => {\n    touchStartY.current = e.touches[0].clientY;\n  };\n\n  const handleTouchMove = (e) => {\n    e.preventDefault(); // 防止页面滚动\n  };\n\n  const handleTouchEnd = (e) => {\n    touchEndY.current = e.changedTouches[0].clientY;\n    const diffY = touchEndY.current - touchStartY.current;\n\n    // 上滑查看下一个视频\n    if (diffY < -50) {\n      scrollToNextVideo();\n    }\n    // 下滑查看上一个视频\n    else if (diffY > 50) {\n      scrollToPrevVideo();\n    }\n  };\n\n  // 处理鼠标滚轮事件\n  const handleWheel = (e) => {\n    e.preventDefault();\n\n    if (e.deltaY > 0) {\n      scrollToNextVideo();\n    } else {\n      scrollToPrevVideo();\n    }\n  };\n\n  // 设置事件监听器\n  useEffect(() => {\n    const container = videoContainerRef.current;\n\n    if (container) {\n      container.addEventListener('wheel', handleWheel);\n      container.addEventListener('touchstart', handleTouchStart);\n      container.addEventListener('touchmove', handleTouchMove);\n      container.addEventListener('touchend', handleTouchEnd);\n    }\n\n    return () => {\n      if (container) {\n        container.removeEventListener('wheel', handleWheel);\n        container.removeEventListener('touchstart', handleTouchStart);\n        container.removeEventListener('touchmove', handleTouchMove);\n        container.removeEventListener('touchend', handleTouchEnd);\n      }\n    };\n  }, []);\n\n  // 更新视频进度条\n  useEffect(() => {\n    // 获取当前激活的视频元素\n    const videoElement = activeVideoRef.current;\n\n    if (!videoElement) return;\n\n    // 进度条更新函数\n    const updateProgress = () => {\n      const progressBar = videoElement.parentNode.querySelector('.progress-bar');\n      if (progressBar && videoElement.duration) {\n        const percent = (videoElement.currentTime / videoElement.duration) * 100;\n        progressBar.style.width = `${percent}%`;\n      }\n    };\n\n    // 添加事件监听器\n    videoElement.addEventListener('timeupdate', updateProgress);\n\n    // 清理函数\n    return () => {\n      videoElement.removeEventListener('timeupdate', updateProgress);\n    };\n  }, [currentIndex]);\n\n  // 如果没有视频数据\n  if (videoData.length === 0) {\n    return (\n      <div className=\"video-container empty\">\n        <div style={{ color: 'white', textAlign: 'center' }}>\n          <h3>没有可用的视频</h3>\n        </div>\n      </div>\n    );\n  }\n\n  // 渲染视频项\n  const renderVideoItem = (video, position) => {\n    if (!video) return null;\n\n    const isActive = position === 'active';\n\n    return (\n      <div key={video.id} className={`video-item ${position}`} data-video-id={video.id}>\n        <div\n          className={`video-wrapper ${isActive ? '' : 'paused'}`}\n          onClick={(e) => {\n            const videoElement = e.currentTarget.querySelector('video');\n            toggleVideoPlayback(videoElement, e.currentTarget);\n          }}\n        >\n          <div className=\"loading-spinner\"></div>\n          <video\n            ref={isActive ? setVideoRef : null}\n            src={video.url}\n            poster={video.poster}\n            playsInline\n            webkit-playsinline=\"true\"\n            muted={!isActive}\n            loop\n            preload=\"auto\"\n            onCanPlay={(e) => {\n              const spinner = e.target.parentNode.querySelector('.loading-spinner');\n              if (spinner) {\n                spinner.style.display = 'none';\n              }\n            }}\n            onError={(e) => {\n              console.error('视频加载失败:', video.url);\n              const spinner = e.target.parentNode.querySelector('.loading-spinner');\n              if (spinner) {\n                spinner.style.display = 'none';\n              }\n              // 显示错误提示\n              const errorMsg = document.createElement('div');\n              errorMsg.style = 'position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); background:rgba(0,0,0,0.7); padding:10px 20px; border-radius:5px; color:white;';\n              errorMsg.innerText = '视频加载失败';\n              e.target.parentNode.appendChild(errorMsg);\n            }}\n          >\n          </video>\n          <div className=\"play-button\">\n            <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"white\">\n              <path d=\"M8 5v14l11-7z\"></path>\n            </svg>\n          </div>\n          <div className=\"video-controls\">\n            <div\n              className=\"progress-bar-container\"\n              onClick={(e) => {\n                const videoElement = e.currentTarget.parentNode.parentNode.querySelector('video');\n                handleProgressClick(e, videoElement, e.currentTarget);\n              }}\n            >\n              <div className=\"progress-bar\"></div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"video-container\" ref={videoContainerRef}>\n      {/* 渲染前一个视频（如果存在） */}\n      {currentIndex > 0 && renderVideoItem(videoData[currentIndex - 1], 'prev')}\n\n      {/* 渲染当前视频 */}\n      {renderVideoItem(videoData[currentIndex], 'active')}\n\n      {/* 渲染下一个视频（如果存在） */}\n      {currentIndex < videoData.length - 1 && renderVideoItem(videoData[currentIndex + 1], 'next')}\n    </div>\n  );\n};\n\nexport default VideoPlayer;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}